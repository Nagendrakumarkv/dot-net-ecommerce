@model List<FlipkartClone.Models.CartItem>

<div class="container mt-4" style="min-height: 80vh;">
    @if (Model.Count == 0)
    {
        <div class="text-center mt-5 bg-white p-5 shadow-sm">
            <img src="https://rukminim1.flixcart.com/www/800/800/promos/16/05/2019/d438a32e-765a-4d8b-b4a6-520b560971e8.png?q=90"
                style="width: 200px;" />
            <h4>Your cart is empty!</h4>
            <p>Add items to it now.</p>
            <a asp-controller="Home" asp-action="Index" class="btn btn-primary px-5">Shop Now</a>
        </div>
    }
    else
    {
        <div class="row">
            <div class="col-md-8">
                <div class="bg-white shadow-sm mb-3">
                    <div class="p-3 border-bottom">
                        <h5 class="fw-bold m-0">My Cart (@Model.Count)</h5>
                    </div>

                    @foreach (var item in Model)
                    {
                        <div class="p-3 border-bottom d-flex">
                            <div class="text-center me-3" style="width: 120px;">
                                <img src="@item.ImageUrl" class="img-fluid" style="max-height: 100px;">
                                <div class="mt-2">
                                    <a asp-action="Decrease" asp-route-id="@item.ProductId"
                                        class="btn btn-sm btn-light border rounded-circle">-</a>
                                    <span class="border px-3 py-1">@item.Quantity</span>
                                    <a asp-action="Increase" asp-route-id="@item.ProductId"
                                        class="btn btn-sm btn-light border rounded-circle">+</a>
                                </div>
                            </div>

                            <div class="flex-grow-1">
                                <h6>@item.ProductName</h6>
                                <div class="mb-2">
                                    <span class="fw-bold fs-5">₹@item.Total</span>
                                    <span class="text-muted small"> (₹@item.Price / item)</span>
                                </div>
                                <a asp-action="Remove" asp-route-id="@item.ProductId"
                                    class="fw-bold text-uppercase text-decoration-none"
                                    style="color: #212121; font-size: 14px;">REMOVE</a>
                            </div>
                        </div>
                    }

                    <div class="p-3 text-end shadow-sm sticky-bottom bg-white">
                        <a asp-action="Checkout" class="btn btn-lg text-white"
                            style="background-color: #fb641b; border-radius: 2px; padding: 10px 50px;">PLACE ORDER</a>
                    </div>
                </div>
            </div>

            <div class="col-md-4">
                <div class="bg-white shadow-sm p-3 position-sticky" style="top: 100px;">
                    <h6 class="text-muted border-bottom pb-2">PRICE DETAILS</h6>

                    <div class="d-flex justify-content-between mb-2">
                        <span>Price (@Model.Count items)</span>
                        <span>₹@Model.Sum(i => i.Total)</span>
                    </div>

                    <div class="d-flex justify-content-between mb-2 text-success">
                        <span>Discount</span>
                        <span>- ₹0</span>
                    </div>

                    <div class="d-flex justify-content-between mb-3">
                        <span>Delivery Charges</span>
                        <span class="text-success">Free</span>
                    </div>

                    <div class="d-flex justify-content-between border-top border-bottom py-3 mb-3">
                        <span class="fw-bold fs-5">Total Amount</span>
                        <span class="fw-bold fs-5">₹@Model.Sum(i => i.Total)</span>
                    </div>

                    <p class="text-success small fw-bold">You will save ₹0 on this order</p>
                </div>
            </div>
        </div>
    }
</div>